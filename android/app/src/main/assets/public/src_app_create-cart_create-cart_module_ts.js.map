{"version":3,"file":"src_app_create-cart_create-cart_module_ts.js","mappings":"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","sources":["./src/app/create-cart/create-cart-routing.module.ts","./src/app/create-cart/create-cart.module.ts","./src/app/create-cart/create-cart.page.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { CreateCartPage } from './create-cart.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: CreateCartPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class CreateCartPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { CreateCartPageRoutingModule } from './create-cart-routing.module';\n\nimport { CreateCartPage } from './create-cart.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    CreateCartPageRoutingModule\n  ],\n  declarations: [CreateCartPage]\n})\nexport class CreateCartPageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport {ActionSheetController, LoadingController} from '@ionic/angular';\nimport { Camera, CameraResultType } from '@capacitor/camera';\nimport Swal from 'sweetalert2';\nimport {Router} from '@angular/router';\nimport {environment} from '../../environments/environment';\nimport {HttpClient, HttpHeaders} from '@angular/common/http';\n\n@Component({\n  selector: 'app-create-cart',\n  templateUrl: './create-cart.page.html',\n  styleUrls: ['./create-cart.page.scss'],\n})\nexport class CreateCartPage implements OnInit {\n\n  url: string = environment.serverAPI + 'level/one/show/';\n  urlTwo: string = environment.serverAPI + 'level/two/show/';\n  urlCartSave: string = environment.serverAPI + 'cart/save/step1';\n  mainPhoto = '';\n  loading = false;\n  maincategory = '';\n  levelOneData = '';\n  singleMulti = '';\n  levelOne = [];\n  levelTwo = [];\n  levelTwoData = '';\n  public cart = {cartName: '', cartDesc: ''};\n  imageData = '';\n\n  private imageElement: any;\n\n  constructor(\n    private actionSheetCtrl: ActionSheetController,\n    private router: Router,\n    private http: HttpClient,\n    private loadingctrl: LoadingController,\n  ) { }\n\n  ngOnInit() {\n  }\n\n  async presentLoading() {\n    const loading = await this.loadingctrl.create({\n      cssClass: 'my-custom-class',\n      message: 'Please wait... Do not close or minimize or back the app',\n      duration: 15000\n    });\n    await loading.present();\n  }\n\n  async getMainCate(e) {\n    this.maincategory = e.detail.value;\n    await this.getLevelOne();\n  }\n\n  async getSingleMulti(e) {\n    this.singleMulti = e.detail.value;\n  }\n\n  async selectLevelOne(e) {\n    this.levelOneData = e.detail.value;\n    await this.getLevelTwo();\n  }\n\n  // eslint-disable-next-line @typescript-eslint/naming-convention\n  async level_two(e) {\n    this.levelTwoData = e.detail.value;\n  }\n\n  async choosePhoto() {\n    await this.presentActionSheet();\n  }\n\n  async getLevelOne() {\n    this.loading = true;\n    await this.http.get(this.url + this.maincategory).subscribe((res: any) => {\n      this.loading = false;\n      this.levelOne = res.level_ones;\n    }, error => {\n      // alert('Error! ' + error);\n    });\n  }\n\n  async getLevelTwo() {\n    this.loading = true;\n    await this.http.get(this.urlTwo + this.levelOneData).subscribe((res: any) => {\n      this.loading = false;\n      this.levelTwo = res.level_twos;\n    }, error => {\n      // alert('Error! ' + error);\n    });\n  }\n\n  async presentActionSheet() {\n    const actionSheet = await this.actionSheetCtrl.create({\n      header: 'Upload Photo',\n      subHeader: 'Main cart photo',\n      buttons: [\n        // {\n        //   text: 'File',\n        //   //role: 'destructive',\n        //   data: {\n        //     action: 'file',\n        //   },\n        // },\n        {\n          text: 'Camera',\n          data: {\n            action: 'camera',\n          },\n        },\n        {\n          text: 'Cancel',\n          role: 'cancel',\n          data: {\n            action: 'cancel',\n          },\n        },\n      ],\n    });\n\n    await actionSheet.present();\n\n    const result = await actionSheet.onDidDismiss();\n    if(result.data.action === 'file') {\n      // await this.takePhotoLibrary();\n    } else if(result.data.action === 'camera') {\n      await this.takePhoto();\n    }\n  }\n\n  // async takePhotoLibrary() {\n  //     const image = await Camera.pickImages({\n  //       quality: 60,\n  //       presentationStyle: 'popover',\n  //       limit: 1,\n  //     });\n  //     image.photos.map((res) => {\n  //       this.imageData = res.webPath;\n  //       this.mainPhoto = res.webPath;\n  //     });\n  // }\n\n  async takePhoto() {\n    const image = await Camera.getPhoto({\n      quality: 60,\n      allowEditing: true,\n      resultType: CameraResultType.Base64,\n      saveToGallery: true,\n      presentationStyle: 'popover',\n    });\n    this.imageData = image.base64String;\n    this.mainPhoto = image.dataUrl;\n  }\n\n\n  async processData() {\n    await this.presentLoading();\n    const params = new URLSearchParams();\n    params.set('cart', this.cart.cartName);\n    params.set('desc', this.cart.cartDesc);\n    params.set('two', this.levelTwoData);\n    params.set('main_cate', this.maincategory);\n    params.set('photo', this.imageData);\n    params.set('single_multi', this.singleMulti);\n\n    this.http.post<any>(this.urlCartSave, params).subscribe(response => {\n      this.loadingctrl.dismiss();\n      if(response.id) {\n        Swal.fire({\n          title: 'Success!',\n          text: 'Now You can add product category/type and under the product type you can add multiple products.',\n          icon: 'success',\n          heightAuto: false,\n        }).then(() => {\n          this.router.navigate(['create-cart-product-type', response.id]);\n        });\n      } else {\n        Swal.fire({\n          title: 'Error!',\n          text: response.error,\n          icon: 'error',\n          heightAuto: false,\n        });\n      }\n    });\n  }\n\n  next() {\n    this.processData();\n  }\n\n}\n"],"names":["Component","ActionSheetController","LoadingController","Camera","CameraResultType","Swal","Router","environment","HttpClient","CreateCartPage","constructor","actionSheetCtrl","router","http","loadingctrl","serverAPI","cartName","cartDesc","ngOnInit","presentLoading","loading","create","cssClass","message","duration","present","getMainCate","e","maincategory","detail","value","getLevelOne","getSingleMulti","singleMulti","selectLevelOne","levelOneData","getLevelTwo","level_two","levelTwoData","choosePhoto","presentActionSheet","get","url","subscribe","res","levelOne","level_ones","error","urlTwo","levelTwo","level_twos","actionSheet","header","subHeader","buttons","text","data","action","role","result","onDidDismiss","takePhoto","image","getPhoto","quality","allowEditing","resultType","Base64","saveToGallery","presentationStyle","imageData","base64String","mainPhoto","dataUrl","processData","params","URLSearchParams","set","cart","post","urlCartSave","response","dismiss","id","fire","title","icon","heightAuto","then","navigate","next","selector","template"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}