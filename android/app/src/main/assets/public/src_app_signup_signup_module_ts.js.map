{"version":3,"file":"src_app_signup_signup_module_ts.js","mappings":"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","sources":["./src/app/signup/signup-routing.module.ts","./src/app/signup/signup.module.ts","./src/app/signup/signup.page.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { SignupPage } from './signup.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: SignupPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class SignupPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { SignupPageRoutingModule } from './signup-routing.module';\n\nimport { SignupPage } from './signup.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    SignupPageRoutingModule\n  ],\n  declarations: [SignupPage]\n})\nexport class SignupPageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport {LoadingController, NavController} from '@ionic/angular';\nimport {HttpClient, HttpHeaders, HttpParams} from '@angular/common/http';\nimport {Router} from '@angular/router';\nimport {AuthService} from '../auth.service';\nimport Swal from 'sweetalert2';\nimport {environment} from '../../environments/environment';\nimport {Camera, CameraResultType} from '@capacitor/camera';\n\n\n@Component({\n  selector: 'app-signup',\n  templateUrl: './signup.page.html',\n  styleUrls: ['./signup.page.scss'],\n})\nexport class SignupPage implements OnInit {\n\n  public log = {email: '', pass: '', name: '', confpass: '', tw: '', fb: '', pin: ''};\n  authURL: string = environment.serverAPI + 'register';\n  imageData = '';\n  mainPhoto = '';\n\n  constructor(\n    private navctrl: NavController,\n    private http: HttpClient,\n    private loadingctrl: LoadingController,\n    private router: Router,\n    private auth: AuthService,\n    private nav: NavController,\n  ) { }\n\n  ngOnInit() {\n  }\n\n  login() {\n    this.navctrl.navigateForward('login');\n  }\n\n  signup() {\n    if(this.log.pass === this.log.confpass) {\n      this.presentLoading();\n      const myheader = new HttpHeaders();\n      //myheader.set('Access-Control-Allow-Origin', '*');\n      myheader.set('Content-Type', 'application/x-www-form-urlencoded');\n\n      const params = new FormData();\n      params.append('name', this.log.name);\n      params.append('email', this.log.email);\n      params.append('password', this.log.pass);\n      params.append('tw', this.log.tw);\n      params.append('fb', this.log.fb);\n      params.append('pin', this.log.pin);\n      params.append('photo', this.imageData);\n\n      this.http.post<any>(this.authURL, params, {headers: myheader}).subscribe(response => {\n        this.loadingctrl.dismiss();\n        if(response.token) {\n          Swal.fire({\n            title: 'Your account created successfully.',\n            text: 'Please check your email inbox/SPAM folder and verify your account.',\n            icon: 'success',\n            heightAuto: false,\n          }).then(() => {\n            localStorage.setItem('token', response.token);\n            this.nav.navigateRoot('tabs/tab2');\n          });\n        } else {\n          alert(response.err);\n        }\n      });\n    } else {\n      Swal.fire({\n        title: 'Error!',\n        text: 'Please check your Password and confirm password.',\n        icon: 'error',\n        heightAuto: false,\n      });\n    }\n\n  }\n\n  async presentLoading() {\n    const loading = await this.loadingctrl.create({\n      cssClass: 'my-custom-class',\n      message: 'Please wait... Do not close or minimize or back the app',\n      duration: 8000\n    });\n    await loading.present();\n\n    const { role, data } = await loading.onDidDismiss();\n    console.log('Loading dismissed!');\n  }\n\n  async takePhoto() {\n    const image = await Camera.getPhoto({\n      quality: 60,\n      allowEditing: true,\n      resultType: CameraResultType.Base64,\n      saveToGallery: true,\n      presentationStyle: 'popover',\n    });\n    this.imageData = image.base64String;\n    this.mainPhoto = image.dataUrl;\n  }\n\n}\n"],"names":["Component","LoadingController","NavController","HttpClient","HttpHeaders","Router","AuthService","Swal","environment","Camera","CameraResultType","SignupPage","constructor","navctrl","http","loadingctrl","router","auth","nav","email","pass","name","confpass","tw","fb","pin","serverAPI","ngOnInit","login","navigateForward","signup","log","presentLoading","myheader","set","params","FormData","append","imageData","post","authURL","headers","subscribe","response","dismiss","token","fire","title","text","icon","heightAuto","then","localStorage","setItem","navigateRoot","alert","err","loading","create","cssClass","message","duration","present","role","data","onDidDismiss","console","takePhoto","image","getPhoto","quality","allowEditing","resultType","Base64","saveToGallery","presentationStyle","base64String","mainPhoto","dataUrl","selector","template"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}