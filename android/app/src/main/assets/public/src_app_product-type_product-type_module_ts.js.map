{"version":3,"file":"src_app_product-type_product-type_module_ts.js","mappings":"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","sources":["./src/app/product-type/product-type-routing.module.ts","./src/app/product-type/product-type.module.ts","./src/app/product-type/product-type.page.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { ProductTypePage } from './product-type.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ProductTypePage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class ProductTypePageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ProductTypePageRoutingModule } from './product-type-routing.module';\n\nimport { ProductTypePage } from './product-type.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ProductTypePageRoutingModule\n  ],\n  declarations: [ProductTypePage]\n})\nexport class ProductTypePageModule {}\n","import { HttpClient } from '@angular/common/http';\nimport { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { environment } from 'src/environments/environment';\nimport {delay, retry} from 'rxjs/operators';\nimport Swal from 'sweetalert2';\nimport {LoadingController} from \"@ionic/angular\";\n\n@Component({\n  selector: 'app-product-type',\n  templateUrl: './product-type.page.html',\n  styleUrls: ['./product-type.page.scss'],\n})\nexport class ProductTypePage implements OnInit {\n\n  id: string;\n  name: string;\n  usersURL: string = environment.serverAPI + 'product/type/';\n  urlCartSave: string = environment.serverAPI + 'save/cart/store';\n  urlFollowUser: string = environment.serverAPI + 'follow/user/store';\n  loading: boolean;\n  data: any = [];\n  following = false;\n  savedCart = false;\n\n  constructor(\n    private http: HttpClient,\n    private route: ActivatedRoute,\n    private router: Router,\n    private loadingctrl: LoadingController,\n  ) { }\n\n  async ngOnInit() {\n    this.id = this.route.snapshot.paramMap.get('id');\n    this.name = this.route.snapshot.paramMap.get('name');\n    await this.getData();\n\n  }\n\n  async presentLoading() {\n    const loading = await this.loadingctrl.create({\n      cssClass: 'my-custom-class',\n      message: 'Please wait... Do not close or minimize or back the app',\n      duration: 15000\n    });\n    await loading.present();\n  }\n\n  async getData() {\n     this.loading = true;\n      await this.http.get(this.usersURL + this.id).pipe(delay(250), retry(3)).toPromise().then((res: any) => {\n        console.log(res);\n        this.loading = false;\n        this.data = res.cart[0];\n        if(res.save_cart > 0) {\n          this.savedCart = true;\n        }\n        if(res.followed > 0) {\n          this.following = true;\n        }\n      }, error => {\n        alert('Error! ' + error);\n      });\n  }\n\n  // eslint-disable-next-line @typescript-eslint/naming-convention\n  product_screen(id: number, name: string) {\n    this.router.navigate(['products', id, name]);\n  }\n\n  // eslint-disable-next-line @typescript-eslint/naming-convention\n  save_cart() {\n    const params = new URLSearchParams();\n    params.set('cart', this.id);\n\n    this.http.post<any>(this.urlCartSave, params).subscribe(response => {\n      // this.loadingctrl.dismiss();\n      if(response.id) {\n        this.savedCart = true;\n        Swal.fire({\n          title: 'Success!',\n          text: 'Cart saved into your account.',\n          icon: 'success',\n          heightAuto: false\n        });\n      } else {\n        Swal.fire({\n          title: 'Error!',\n          text: response.error,\n          icon: 'error',\n          heightAuto: false,\n        });\n      }\n    });\n  }\n\n  follow(id) {\n    const params = new URLSearchParams();\n    params.set('userId', id);\n\n    this.http.post<any>(this.urlFollowUser, params).subscribe(response => {\n      // this.loadingctrl.dismiss();\n      if(response.id) {\n        this.following = true;\n        Swal.fire({\n          title: 'Success!',\n          text: 'Following',\n          icon: 'success',\n          heightAuto: false\n        });\n      } else {\n        Swal.fire({\n          title: 'Error!',\n          text: response.error,\n          icon: 'error',\n          heightAuto: false,\n        });\n      }\n    });\n  }\n\n  gotoProfile(id) {\n    this.router.navigate(['publicprofile', id]);\n  }\n\n}\n"],"names":["HttpClient","Component","ActivatedRoute","Router","environment","delay","retry","Swal","LoadingController","ProductTypePage","constructor","http","route","router","loadingctrl","serverAPI","ngOnInit","id","snapshot","paramMap","get","name","getData","presentLoading","loading","create","cssClass","message","duration","present","usersURL","pipe","toPromise","then","res","console","log","data","cart","save_cart","savedCart","followed","following","error","alert","product_screen","navigate","params","URLSearchParams","set","post","urlCartSave","subscribe","response","fire","title","text","icon","heightAuto","follow","urlFollowUser","gotoProfile","selector","template"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}